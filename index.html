<body>
  <header>
    <button class="theme-toggle" onclick="toggleDarkMode()">ðŸŒ“ Tema</button>
    <img src="20250506_1330_Logotipo de Andebol Sul_remix_01jtk01hdsenvbcs12ch68jjd1.png" alt="Logotipo ARASSUL">
    <h1>Regional de Andebol Santiago Sul</h1>
    <p>Temporada 2024/2025</p>
  </header>

  <nav>
    <a href="#" onclick="mostrarAba('classificacao', this)">ClassificaÃ§Ã£o</a>
    <a href="#" onclick="mostrarAba('resultados', this)">Resultados</a>
    <a href="#" onclick="mostrarAba('marcadores', this)" class="active-tab">Melhores Marcadores</a>
  </nav>

  <main>
    <section id="classificacao" class="active">
      <h2>ClassificaÃ§Ã£o - SÃ©nior Masculino</h2>
      <div id="classificacao-masculino">Carregando...</div>
      <h2>ClassificaÃ§Ã£o - SÃ©nior Feminino</h2>
      <div id="classificacao-feminino">Carregando...</div>
    </section>

    <section id="resultados">
      <h2>Resultados - SÃ©nior Masculino</h2>
      <div id="resultados-masculino">Carregando...</div>
      <h2>Resultados - SÃ©nior Feminino</h2>
      <div id="resultados-feminino">Carregando...</div>
    </section>

    <section id="marcadores">
      <h2>Melhores Marcadores - SÃ©nior Masculino</h2>
      <iframe 
        src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSmGgChlRuHWXjidxaYH9QLW-ICqBLqO3bXcQOXElNaffXDacs7eTb6qjEpMYKzSq-IFJN94i4ajbX-/pub?gid=498053061&single=true&output=html"
        allowfullscreen>
      </iframe>
      <h2>Melhores Marcadores - SÃ©nior Feminino</h2>
      <iframe 
        src="https://docs.google.com/spreadsheets/d/e/2PACX-1vT_BCGGvtUe-5jH0Yls7hhNA7TDFDQfm6zAiz-j87-sc5OEXwLOVaNSQU20tAtefgTBp87ZzhomfJVq/pub?gid=1661240807&single=true&output=html"
        allowfullscreen>
      </iframe>
    </section>
  </main>

  <footer>
    &copy; 2025 ARASSUL - AssociaÃ§Ã£o Regional de Andebol de Santiago Sul<br>
    ðŸ“§ Contacto: <a href="mailto:arandebolssul@gmail.com" style="color: #ffcc80; text-decoration: none;">arandebolssul@gmail.com</a>
    <div class="social-share">
      <a href="https://wa.me/?text=https://carvalhomatias.github.io/andebol-santiago-sul/" target="_blank">ðŸ“² WhatsApp</a>
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://carvalhomatias.github.io/andebol-santiago-sul/" target="_blank">ðŸ“˜ Facebook</a>
      <a href="#" onclick="navigator.clipboard.writeText(window.location.href); alert('Link copiado!');">ðŸ”— Copiar Link</a>
    </div>
  </footer>

  <script>
    const urls = [
      {
        url: "https://docs.google.com/spreadsheets/d/e/2PACX-1vSmGgChlRuHWXjidxaYH9QLW-ICqBLqO3bXcQOXElNaffXDacs7eTb6qjEpMYKzSq-IFJN94i4ajbX-/pub?gid=0&single=true&output=csv",
        container: "classificacao-masculino"
      },
      {
        url: "https://docs.google.com/spreadsheets/d/e/2PACX-1vT_BCGGvtUe-5jH0Yls7hhNA7TDFDQfm6zAiz-j87-sc5OEXwLOVaNSQU20tAtefgTBp87ZzhomfJVq/pub?gid=0&single=true&output=csv",
        container: "classificacao-feminino"
      },
      {
        url: "https://docs.google.com/spreadsheets/d/e/2PACX-1vSmGgChlRuHWXjidxaYH9QLW-ICqBLqO3bXcQOXElNaffXDacs7eTb6qjEpMYKzSq-IFJN94i4ajbX-/pub?gid=34368686&single=true&output=csv",
        container: "resultados-masculino"
      },
      {
        url: "https://docs.google.com/spreadsheets/d/e/2PACX-1vT_BCGGvtUe-5jH0Yls7hhNA7TDFDQfm6zAiz-j87-sc5OEXwLOVaNSQU20tAtefgTBp87ZzhomfJVq/pub?gid=633813531&single=true&output=csv",
        container: "resultados-feminino"
      }
    ];

    async function carregarCSV({ url, container }) {
      try {
        const response = await fetch(url);
        const texto = await response.text();
        const linhas = texto.trim().split("\n").map(l => l.split(","));

        let html = "<div style='overflow-x:auto'><table><thead><tr>";
        linhas[0].forEach(coluna => html += `<th>${coluna}</th>`);
        html += "</tr></thead><tbody>";
        for (let i = 1; i < linhas.length; i++) {
          html += "<tr>";
          linhas[i].forEach(coluna => html += `<td>${coluna}</td>`);
          html += "</tr>";
        }
        html += "</tbody></table></div>";
        document.getElementById(container).innerHTML = html;
      } catch (e) {
        document.getElementById(container).innerHTML = `<p style="color:red;">Erro ao carregar dados.</p>`;
      }
    }

    async function carregarTudo() {
      for (const bloco of urls) {
        await carregarCSV(bloco);
      }
    }

    function mostrarAba(id, el) {
      const secoes = document.querySelectorAll('main section');
      secoes.forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav a').forEach(a => a.classList.remove('active-tab'));
      el.classList.add('active-tab');
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }

    window.onload = carregarTudo;
  </script>
</body>
</html>
